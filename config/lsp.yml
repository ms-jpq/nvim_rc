---
- bin: vscode-json-language-server
  install:
    npm:
      - vscode-langservers-extracted
  server: jsonls

- bin: yaml-language-server
  filetypes:
    - yaml
    - yaml.ansible
    - yaml.docker-compose
  install:
    npm:
      - yaml-language-server
  server: yamlls
  # settings:
  #   yaml:
  #     keyOrdering: false

- bin: taplo
  install:
    script:
      file: dl/taplo.sh
  server: taplo

- args: []
  bin: lemminx
  install:
    script:
      file: dl/lemminx.sh
      required:
        - htmlq
  server: lemminx

- args:
    - --stdio
  bin: vscode-markdown-language-server
  filetypes:
    - markdown
  install:
    npm:
      - vscode-langservers-extracted
  server: markdown

- bin: docker-compose-langserver
  install:
    npm:
      - "@microsoft/compose-language-service"
  server: docker_compose_language_service

- bin: ltex-ls
  install:
    script:
      file: dl/ltex.sh
  server: ltex

- bin: texlab
  install:
    script:
      file: dl/texlab.sh
  server: texlab
  settings:
    texlab:
      build:
        args:
          - --keep-logs
          - --keep-intermediates
          - --synctex
          - --
          - "%f"
        executable: tectonic
        # onSave: True
        # forwardSearchAfter: True
      # forwardSearch:
      #   executable: evince-synctex
      #   args:
      #     - "-f"
      #     - "%l"
      #     - "%p"
      #     - '"code -g %f:%l"'

- bin: digestif
  server: digestif

- bin: diagnostic-languageserver
  filetypes:
    - dockerfile
    - sh
    - zsh
  init_options:
    filetypes:
      dockerfile:
        - hadolint
    linters:
      hadolint:
        args:
          - --format
          - json
          - --
          - "%file"
        command: hadolint
        parseJson:
          column: column
          line: line
          message: "${message} [${code}]"
          security: level
        rootPatterns:
          - .hadolint.yml
          - .hadolint.yaml
        securities:
          error: error
          info: info
          style: hint
          warning: warning
        sourceName: hadolint
  install:
    npm:
      - diagnostic-languageserver
  root:
    fallback: cwd
  server: diagnosticls

- bin: bash-language-server
  install:
    npm:
      - bash-language-server
  server: bashls

- bin: jq-lsp
  install:
    script:
      file: dl/jq_ls.sh
  server: jqls

# - bin: awk-language-server
#   install:
#     npm:
#       - awk-language-server
#   server: awk_ls

- args: []
  bin: pwsh_es.ps1
  install:
    script:
      file: dl/pwsh_es.ps1
      required:
        - pwsh
  server: powershell_es

- bin: docker-langserver
  install:
    npm:
      - dockerfile-language-server-nodejs
  server: dockerls

- bin: pyright-langserver
  install:
    npm:
      - pyright
  server: pyright

# - bin: ruff
#   install:
#     pip:
#       - ruff
#   server: ruff_lsp

- bin: haskell-language-server-wrapper
  install:
    script:
      file: dl/haskell_language_server.sh
  server: hls

- bin: rust-analyzer
  install:
    script:
      file: dl/rust_analyzer.rs
      required:
        - rustc
  server: rust_analyzer

- bin: gopls
  install:
    script:
      file: dl/gopls.sh
  server: gopls

- bin: sourcekit-lsp
  server: sourcekit

- bin: clangd
  server: clangd

- bin: ccls
  server: ccls

# - server: typeprof
#   bin: typeprof

# - server: ruby_ls
#   bin: ruby-lsp
#   install:
#     gem:
#       - ruby-lsp

- bin: solargraph
  install:
    gem:
      - solargraph
    script:
      file: dl/solargraph.rb
      required:
        - ruby
  server: solargraph

- bin: typescript-language-server
  install:
    npm:
      - typescript
      - typescript-language-server
  server: tsserver

- bin: vscode-eslint-language-server
  install:
    npm:
      - vscode-langservers-extracted
  server: eslint

# - server: denols
#   bin: deno

- bin: vscode-html-language-server
  install:
    npm:
      - vscode-langservers-extracted
  server: html

- bin: vscode-css-language-server
  install:
    npm:
      - vscode-langservers-extracted
  server: cssls

# - bin: tailwindcss-language-server
#   install:
#     npm:
#       - "@tailwindcss/language-server"
#   server: tailwindcss

- bin: graphql-lsp
  install:
    npm:
      - graphql-language-service-cli
  server: graphql

- bin: vim-language-server
  install:
    npm:
      - vim-language-server
  server: vimls

- bin: R
  install:
    script:
      file: dl/rlang_server.r
      required:
        - Rscript
        - R
  server: r_language_server

- args: []
  bin: julia-lsp
  install:
    script:
      file: dl/julia_ls.jl
      required:
        - julia
  server: julials

- bin: phpactor
  # https://phpactor.readthedocs.io/en/master/usage/standalone.html#global-installation
  install: {}
  server: phpactor

- bin: intelephense
  install:
    npm:
      - intelephense
  server: intelephense

- bin: fsautocomplete
  install:
    script:
      file: dl/fsharp_ls.fsx
      required:
        - dotnet
  server: fsautocomplete

- args: []
  bin: omnisharp
  install:
    script:
      file: dl/omnisharp.fsx
      required:
        - dotnet
  server: omnisharp

- bin: clojure-lsp
  install:
    script:
      file: dl/clj_lsp.clj
      required:
        - clojure
  server: clojure_lsp

- bin: kotlin-language-server
  install:
    script:
      file: dl/kotlin.kts
      required:
        - kotlinc
  server: kotlin_language_server

- bin: jdtls
  install:
    script:
      file: dl/jdtls.sh
      required:
        - jshell
  server: jdtls

- args: []
  bin: prolog-ls
  install:
    script:
      file: dl/prolog_ls.pro
      required:
        - swipl
  server: prolog_ls

- args:
    - up
    - --method
    - stdio
  bin: sql-language-server
  install:
    npm:
      - sql-language-server
  server: sqlls

- bin: lua-language-server
  install:
    script:
      file: dl/sumneko_lua.sh
      required:
        - git
        - python3
        - gcc
  server: lua_ls
  settings:
    Lua:
      runtime:
        version: "Lua 5.1"

- bin: ansible-language-server
  install:
    npm:
      - ansible-language-server
  server: ansiblels

- bin: glslls
  install:
    script:
      file: dl/glsl_ls.sh
      required:
        - cmake
        - git
        - python3
  server: glslls

- bin: theme-check-language-server
  install:
    gem:
      - theme-check
  server: theme_check

- bin: emmet-ls
  filetypes:
    - css
    - html
    - liquid
    - scss
  install:
    npm:
      - emmet-ls
  server: emmet_ls

- bin: terraform-ls
  install:
    script:
      required:
        - htmlq
      file: dl/terraform_ls.sh
  server: terraformls

- bin: tflint
  install:
    script:
      file: dl/tflint.sh
  server: tflint
# - server: volar
#   bin: vue-language-server
#   install:
#     npm:
#       - "@volar/vue-language-server"
